ربات هوشمند ارسال خودکار پست تلگرام (Forwarder)
این پروژه یک ربات تلگرامی قدرتمند و هوشمند است که با استفاده از GitHub Actions به صورت خودکار اجرا می‌شود. وظیفه اصلی این ربات، بررسی کانال‌های تلگرامی شما و ارسال پست از یک کانال مبدأ به یک کانال مقصد است، اما فقط در صورتی که کانال مقصد برای مدت زمان مشخصی غیرفعال بوده باشد.

این ربات برای مدیران کانال‌هایی که می‌خواهند محتوای کانال خود را حتی در زمان عدم فعالیت، تازه و پویا نگه دارند، ایده‌آل است.

✨ قابلیت‌های کلیدی
این ربات چیزی فراتر از یک ارسال‌کننده ساده است و قابلیت‌های هوشمند زیر را ارائه می‌دهد:

🔄 مدیریت چندین کانال: به راحتی لیستی از کانال‌های مبدأ و مقصد را مدیریت کنید. ربات به صورت چرخشی و در هر اجرا، یکی از جفت کانال‌ها را بررسی می‌کند.

🕒 شرط زمانی هوشمند: ربات فقط در صورتی پست ارسال می‌کند که کانال مقصد برای مدت زمان مشخصی (مثلاً ۴ ساعت) هیچ پستی دریافت نکرده باشد. این زمان قابل تنظیم است.

🖼️ پشتیبانی کامل از رسانه:

آلبوم‌ها: پست‌های چندعکسی یا چندویدیویی (آلبوم) را به طور کامل و به صورت یکجا ارسال می‌کند.

فایل‌های تکی: عکس‌ها، ویدیوها و سایر فایل‌ها را به همراه کپشن ارسال می‌کند.

💬 حفظ زمینه ریپلای: اگر پستی در حال ریپلای به پیام دیگری باشد، ربات متن پیام اصلی را به صورت نقل‌قول در ابتدای پست جدید قرار می‌دهد تا مفهوم و زمینه گفتگو حفظ شود.

🛡️ فیلترینگ هوشمند محتوا:

به صورت خودکار پست‌های حاوی لینک یا تبلیغات را نادیده می‌گیرد.

پست‌هایی که حاوی آیدی یا منشن کانال‌های دیگر (به جز خود کانال مبدأ) باشند را ارسال نمی‌کند.

⚙️ راه‌اندازی آسان: تمام تنظیمات از طریق بخش Secrets و Variables گیت‌هاب انجام می‌شود و نیازی به تغییر کد نیست.

** رایگان و بدون سرور:** این پروژه به طور کامل بر روی زیرساخت رایگان GitHub Actions اجرا می‌شود.

🚀 راهنمای راه‌اندازی
برای راه‌اندازی این ربات، مراحل زیر را به دقت دنبال کنید.

مرحله ۱: کپی کردن این ریپازیتوری (Fork)
ابتدا این ریپازیتوری را با کلیک بر روی دکمه Fork در بالای صفحه، به اکانت گیت‌هاب خودتان کپی کنید.

مرحله ۲: ساخت ریپازیتوری وضعیت (State Repository)
شما به یک ریپازیتوری خصوصی (Private) دیگر برای ذخیره وضعیت ربات نیاز دارید (اینکه نوبت کدام کانال است).

یک ریپازیتوری جدید در گیت‌هاب بسازید.

نام آن را forwarder-state بگذارید.

حتماً آن را به صورت Private تنظیم کنید.

تیک گزینه Add a README file را بزنید تا ریپازیتوری خالی نباشد.

مرحله ۳: دریافت اطلاعات تلگرام
API ID و API Hash: به سایت my.telegram.org بروید و این دو مقدار را دریافت کنید.

رشته جلسه (Telethon Session): این ربات برای ورود به اکانت شما به یک رشته متنی نیاز دارد. برای ساخت آن می‌توانید از ابزارهای آنلاین مانند این Repl.it استفاده کنید.

مرحله ۴: ساخت توکن دسترسی گیت‌هاب (GitHub Token)
شما به یک توکن برای دادن دسترسی نوشتن به ریپازیتوری خصوصی forwarder-state نیاز دارید.

به بخش Settings اکانت گیت‌هاب خود بروید (با کلیک روی عکس پروفایل‌تان).

از منوی سمت چپ، به Developer settings بروید.

گزینه Personal access tokens و سپس Fine-grained tokens را انتخاب کنید.

روی Generate new token کلیک کنید.

یک نام برای توکن خود انتخاب کنید (مثلاً TELEGRAM_ACTION_TOKEN).

در بخش Repository access، گزینه Only select repositories را انتخاب کرده و ریپازیتوری خصوصی forwarder-state را از لیست انتخاب کنید.

در بخش Permissions، به Repository permissions بروید.

دسترسی Contents را پیدا کرده و آن را روی Read and write تنظیم کنید.

روی Generate token کلیک کرده و توکن ساخته شده را کپی کنید. این توکن فقط یک بار نمایش داده می‌شود!

مرحله ۵: تنظیم متغیرها و سکرت‌ها
حالا به ریپازیتوری اصلی که Fork کرده‌اید (forwarder-telegram-auto) برگردید و وارد بخش Settings شوید. از منوی سمت چپ به Secrets and variables > Actions بروید.

الف) تنظیم Secrets
در تب Secrets، روی New repository secret کلیک کرده و موارد زیر را بسازید:

API_ID: مقدار API ID تلگرام خود را وارد کنید.

API_HASH: مقدار API Hash تلگرام خود را وارد کنید.

TELETHON_SESSION: رشته جلسه‌ای که در مرحله ۳ ساختید را وارد کنید.

GH_PAT: توکنی که در مرحله ۴ ساختید را وارد کنید.

ب) تنظیم Variables
حالا به تب Variables بروید و روی New repository variable کلیک کرده و موارد زیر را بسازید:

STATE_REPO: آدرس ریپازیتوری خصوصی خود را وارد کنید (مثلاً YourUsername/forwarder-state).

SOURCE_CHANNELS_LIST: لیست آیدی کانال‌های مبدأ را با کاما (,) از هم جدا کنید (مثلاً channel_A,channel_B).

DESTINATION_CHANNELS_LIST: لیست آیدی کانال‌های مقصد را وارد کنید. ترتیب و تعداد این لیست باید دقیقاً با لیست بالا یکی باشد (مثلاً @my_channel_x,@my_channel_y).

HOURS_OF_INACTIVITY (اختیاری): عددی که مشخص می‌کند ربات پس از چند ساعت عدم فعالیت پست بفرستد. اگر این متغیر را نسازید، به طور پیش‌فرض از 4 استفاده می‌شود.

مرحله ۶: فعال‌سازی ربات
به تب Actions در ریپازیتوری forwarder-telegram-auto خود بروید.

در منوی سمت چپ، روی Telegram Post Forwarder کلیک کنید.

یک پیغام زرد رنگ مشاهده خواهید کرد. روی دکمه Enable workflow کلیک کنید.

تبریک! ربات شما اکنون فعال است و طبق زمان‌بندی (هر ۱۰ دقیقه) اجرا خواهد شد.

🤝 مشارکت
اگر ایده‌ای برای بهبود این پروژه دارید، لطفاً یک Issue باز کرده یا یک Pull Request ارسال کنید.

📄 لایسنس
این پروژه تحت لایسنس MIT
